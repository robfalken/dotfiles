{"id":"902ef8bb-2943-4854-8066-bff8e0b2803f","zed":"context","version":"0.4.0","text":"\n\n\nUsing Hasura, can I create children of nested objects somehow? I.e. setting the `parent_id` to the newly created item?\nYes, you can create nested objects with their relationships in Hasura using nested mutations. Here's how you can do it:\n\n```graphql\nmutation CreateParentWithChildren {\n  insert_parents_one(\n    object: {\n      name: \"Parent Name\",\n      children: {\n        data: [\n          { name: \"Child 1\" },\n          { name: \"Child 2\" }\n        ]\n      }\n    }\n  ) {\n    id\n    name\n    children {\n      id\n      name\n    }\n  }\n}\n```\n\nFor this to work:\n\n1. You need to have properly set up relationships in Hasura between your tables:\n```sql\n-- Example schema\nCREATE TABLE parents (\n  id SERIAL PRIMARY KEY,\n  name TEXT\n);\n\nCREATE TABLE children (\n  id SERIAL PRIMARY KEY,\n  parent_id INTEGER REFERENCES parents(id),\n  name TEXT\n);\n```\n\n2. Configure the relationship in Hasura Console:\n   - Create an array relationship from `parents` to `children`\n   - Create an object relationship from `children` to `parents`\n\nThe `parent_id` will be automatically set by Hasura based on the relationship configuration.\n\nYou can also add children to an existing parent:\n\n```graphql\nmutation AddChildrenToParent {\n  insert_children(\n    objects: [\n      { parent_id: 123, name: \"New Child 1\" },\n      { parent_id: 123, name: \"New Child 2\" }\n    ]\n  ) {\n    returning {\n      id\n      name\n      parent {\n        id\n        name\n      }\n    }\n  }\n}\n```\n\nHasura handles all the relationship management automatically once you've set up the proper foreign key constraints and relationships in the console.\n","messages":[{"id":{"replica_id":0,"value":0},"start":0,"metadata":{"role":"user","status":"Done","timestamp":{"replica_id":0,"value":60}}},{"id":{"replica_id":0,"value":26},"start":122,"metadata":{"role":"assistant","status":"Done","timestamp":{"replica_id":0,"value":61}}},{"id":{"replica_id":0,"value":27},"start":1599,"metadata":{"role":"user","status":"Done","timestamp":{"replica_id":0,"value":62}}}],"summary":"Hasura Nested Object Creation Parent Child","slash_command_output_sections":[{"range":{"start":0,"end":1},"icon":"Library","label":"Default","metadata":null}]}